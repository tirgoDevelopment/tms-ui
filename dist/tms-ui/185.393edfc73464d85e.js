"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[185],{5185:($e,O,l)=>{l.r(O),l.d(O,{default:()=>Le});var Y=l(2480),t=l(2223);let W=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-drivers"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},dependencies:[Y.Bz,Y.lC],encapsulation:2})}return i})();var _=l(4755),a=l(9401),p=l(1728),f=l(9114),h=l(430),x=l(787),m=l(3627),S=l(3556),C=l(1591),v=l(9609),Z=l(8467),y=l(3276),F=l(3314),A=l(3617),T=l(7406),b=l(1217),U=l(6205),c=l(5580),I=l(6012),w=l(4586),k=l(1292),tt=l(2621),J=l(2340),M=l(4004),et=l(3144);let E=(()=>{class i{constructor(e){this.http=e}getActiveDrivers(e,n,o,r,s){let d=`${J.O.apiUsers}/users/drivers/merchant-active-drivers?merchantId=${e}&pageSize=${n.size}&pageIndex=${n.currentPage}`;return o&&(d+=`&${o}`),r&&s&&(d+=`&sortBy=${r}&sortType=${s}`),this.http.get(d)}getArchivedDrivers(e,n,o,r,s){let d=`${J.O.apiUsers}/users/drivers/merchant-archive-drivers?merchantId=${e}&pageSize=${n.size}&pageIndex=${n.currentPage}`;return o&&(d+=`&${o}`),r&&s&&(d+=`&sortBy=${r}&sortType=${s}`),this.http.get(d)}getDriverById(e){return this.http.get(J.O.apiUsers+"/users/drivers/driver-by?id="+e.id+"&userId="+e.userId)}createDriver(e){return this.http.post(J.O.apiUsers+"/users/drivers/register",e)}createTransport(e){return this.http.post(J.O.apiUsers+"/users/driver/transport",e)}getFile(e){return this.http.get(J.O.apiReferences+`/references/files/driver/${e}`,{responseType:"blob"}).pipe((0,M.U)(n=>URL.createObjectURL(n)))}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(et.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var N=l(3648);function it(i,u){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ot(i,u){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function nt(i,u){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ut(i,u){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.TgZ(2,"span",12),t._uU(3,"\u0442\u043e\u043d\u043d\u0430"),t.qZA()()),2&i){const e=u.$implicit;t.Q6J("value",e),t.xp6(1),t.hij("",e," ")}}function rt(i,u){if(1&i&&t._UZ(0,"img",29),2&i){const e=t.oxw();t.Q6J("src",e.techPassportFrontFilePath,t.LSH)}}function at(i,u){if(1&i&&t._UZ(0,"img",29),2&i){const e=t.oxw();t.Q6J("src",e.techPassportBackFilePath,t.LSH)}}function st(i,u){if(1&i&&t._UZ(0,"img",29),2&i){const e=t.oxw();t.Q6J("src",e.goodsTransportationLicenseCardFilePath,t.LSH)}}let R=(()=>{class i{constructor(e,n,o,r,s,d,g){this.data=e,this.formBuilder=n,this.typesService=o,this.driverService=r,this.dialog=s,this.toastr=d,this.cdr=g,this.formData=new FormData,this.loadCapacityOptions=[17,18,19,20,21,22,23,24,25]}ngOnInit(){this.typesService.getTransportKinds().subscribe(e=>{e&&e.success&&(this.transportKinds=e.data)}),this.typesService.getTransportTypes().subscribe(e=>{e&&e.success&&(this.transportTypes=e.data)}),this.typesService.getCargoLoadingMethod().subscribe(e=>{e&&e.success&&(this.loadingMethod=e.data)}),this.form=this.formBuilder.group({driverId:[this.data.id],name:[null,[a.kI.required]],stateNumber:[null],transportKindIds:[null],transportTypeIds:[null],loadingMethodIds:[null],cubicCapacity:[null],loadCapacity:[null],isAdr:[!1],techPassportFrontFilePath:[null],techPassportBackFilePath:[null],goodsTransportationLicenseCardFilePath:[null]})}addTransport(){this.form.disable(),this.formData.append("driverId",this.form.value.driverId),this.formData.append("name",this.form.value.name),this.formData.append("stateNumber",this.form.value.stateNumber),this.formData.append("cubicCapacity",this.form.value.cubicCapacity),this.formData.append("transportKindIds",JSON.stringify(this.form.value.transportKindIds)),this.formData.append("transportTypeIds",JSON.stringify(this.form.value.transportTypeIds)),this.formData.append("loadingMethodIds",JSON.stringify(this.form.value.loadingMethodIds)),this.formData.append("isAdr",this.form.value.isAdr),this.formData.append("loadCapacity",this.form.value.loadCapacity),this.driverService.createTransport(this.formData).subscribe(e=>{e&&e.success&&(this.form.enable(),this.dialog.closeAll(),this.toastr.success("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"))},e=>{this.form.enable(),this.toastr.error(e.error.message)})}selectFile(e,n){const o=e.target.files[0];if(o){this.formData.append(n,o,(new Date).getTime().toString()+".jpg");const r=new FileReader;r.onload=()=>{this[n]=r.result,this.cdr.detectChanges()},r.readAsDataURL(o)}}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.WI),t.Y36(a.qu),t.Y36(tt.K),t.Y36(E),t.Y36(c.uw),t.Y36(N._W),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-transport"]],standalone:!0,features:[t.jDz],decls:83,vars:26,consts:[[1,"flex","justify-between","items-center"],[1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"mt-10","w-full",3,"formGroup"],[1,"grid","sm:grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex-auto","gt-xs:pr-3","md:w-72","sm:w-full"],["matInput","",3,"formControlName"],[1,"flex-auto"],["multiple","true",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"formControlName"],["matSuffix",""],[1,"flex","items-center"],[1,"flex","gap-4","mt-5"],[1,"w-32"],[1,"font-bold"],[1,"relative","flex","items-center","justify-center","w-32","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["formControlName","techPassportFrontFilePath","id","front","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","front","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],["formControlName","techPassportBackFilePath","id","back","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","back","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","goodsTransportationLicenseCardFilePath","id","back","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["mat-flat-button","",1,"fuse-mat-button-large","dark","w-full","mt-10",3,"color","click"],[3,"value"],[1,"object-fill","w-full","h-full",3,"src"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"form",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"\u041c\u0430\u0440\u043a\u0430 \u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"\u0413\u043e\u0441. \u043d\u043e\u043c\u0435\u0440"),t.qZA(),t._UZ(15,"input",7),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(19,"mat-select",9),t.YNc(20,it,2,2,"mat-option",10),t.qZA()(),t.TgZ(21,"mat-form-field",8)(22,"mat-label"),t._uU(23,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(24,"mat-select",9),t.YNc(25,ot,2,2,"mat-option",10),t.qZA()(),t.TgZ(26,"mat-form-field",8)(27,"mat-label"),t._uU(28,"\u0412\u0438\u0434 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(29,"mat-select",9),t.YNc(30,nt,2,2,"mat-option",10),t.qZA()(),t.TgZ(31,"mat-form-field",6)(32,"mat-label"),t._uU(33,"\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c (\u0442.)"),t.qZA(),t.TgZ(34,"mat-select",11),t.YNc(35,ut,4,2,"mat-option",10),t.qZA()(),t.TgZ(36,"mat-form-field",6)(37,"mat-label"),t._uU(38,"\u041e\u0431\u044a\u0435\u043c"),t.qZA(),t._UZ(39,"input",7),t.TgZ(40,"span",12),t._uU(41,"m"),t.TgZ(42,"sup"),t._uU(43,"3"),t.qZA()()(),t.TgZ(44,"div",13)(45,"mat-checkbox",11),t._uU(46,"\u0410\u0414\u0420"),t.qZA()()(),t.TgZ(47,"div",14)(48,"div",15)(49,"mat-label",16),t._uU(50,"\u0422\u0435\u0445. \u043f\u0430\u0441\u043f\u043e\u0440\u0442 (\u0441\u043f\u0435\u0440\u0435\u0434\u0438)"),t.qZA(),t.TgZ(51,"div",17),t._UZ(52,"div",18),t.TgZ(53,"div",19)(54,"div")(55,"input",20),t.NdJ("change",function(s){return o.selectFile(s,"techPassportFrontFilePath")}),t.qZA(),t.TgZ(56,"label",21),t._UZ(57,"mat-icon",22),t.qZA()()(),t.YNc(58,rt,1,1,"img",23),t.qZA()(),t.TgZ(59,"div",15)(60,"mat-label",16),t._uU(61,"\u0422\u0435\u0445. \u043f\u0430\u0441\u043f\u043e\u0440\u0442 (\u0441\u0437\u0430\u0434\u0438)"),t.qZA(),t.TgZ(62,"div",17),t._UZ(63,"div",18),t.TgZ(64,"div",19)(65,"div")(66,"input",24),t.NdJ("change",function(s){return o.selectFile(s,"techPassportBackFilePath")}),t.qZA(),t.TgZ(67,"label",25),t._UZ(68,"mat-icon",22),t.qZA()()(),t.YNc(69,at,1,1,"img",23),t.qZA()(),t.TgZ(70,"div",15)(71,"mat-label",16),t._uU(72,"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f \u043d\u0430 \u0433\u0440\u0443\u0437\u043e\u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0443"),t.qZA(),t.TgZ(73,"div",17),t._UZ(74,"div",18),t.TgZ(75,"div",19)(76,"div")(77,"input",26),t.NdJ("change",function(s){return o.selectFile(s,"goodsTransportationLicenseCardFilePath")}),t.qZA(),t.TgZ(78,"label",25),t._UZ(79,"mat-icon",22),t.qZA()()(),t.YNc(80,st,1,1,"img",23),t.qZA()()(),t.TgZ(81,"button",27),t.NdJ("click",function(){return o.addTransport()}),t._uU(82," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("formControlName","name"),t.xp6(4),t.Q6J("formControlName","stateNumber"),t.xp6(4),t.Q6J("formControlName","transportTypeIds"),t.xp6(1),t.Q6J("ngForOf",o.transportTypes),t.xp6(4),t.Q6J("formControlName","transportKindIds"),t.xp6(1),t.Q6J("ngForOf",o.transportKinds),t.xp6(4),t.Q6J("formControlName","loadingMethodIds"),t.xp6(1),t.Q6J("ngForOf",o.loadingMethod),t.xp6(4),t.Q6J("formControlName","loadCapacity"),t.xp6(1),t.Q6J("ngForOf",o.loadCapacityOptions),t.xp6(4),t.Q6J("formControlName","cubicCapacity"),t.xp6(6),t.Q6J("formControlName","isAdr"),t.xp6(10),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.techPassportFrontFilePath),t.xp6(8),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.techPassportBackFilePath),t.xp6(8),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.goodsTransportationLicenseCardFilePath),t.xp6(1),t.Q6J("color","primary"))},dependencies:[c.Is,c.ZT,I.QW,k.p9,k.oG,v.c,v.Nt,f.KE,f.hX,f.R9,x.LD,x.gD,b.ey,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.u5,w.D,Z.Cq,y.TU,f.lN,h.Ps,h.Hw,p.ot,p.lW,p.RK,b.si,b.wG,T.Tx,A.Nh,F.vV,U.X,_.ax,_.O5,m.p0],encapsulation:2})}return i})(),lt=(()=>{class i{constructor(e){this.driverService=e}transform(e){return this.driverService.getFile(e)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(E,16))};static#e=this.\u0275pipe=t.Yjl({name:"fileFetch",type:i,pure:!0})}return i})();function ct(i,u){if(1&i&&(t.TgZ(0,"p",8),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function dt(i,u){if(1&i&&(t.TgZ(0,"p",8),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function pt(i,u){if(1&i&&(t.TgZ(0,"p",8),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function mt(i,u){if(1&i&&(t._UZ(0,"img",16),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw(2).$implicit;t.Q6J("src",t.lcZ(1,1,t.lcZ(2,3,e.techPassportFrontFilePath)),t.LSH)}}function ft(i,u){if(1&i&&(t.TgZ(0,"mat-card",12)(1,"mat-label",13),t._uU(2,"\u0422\u0435\u0445. \u043f\u0430\u0441\u043f\u043e\u0440\u0442 (\u0441\u043f\u0435\u0440\u0435\u0434\u0438)"),t.qZA(),t.TgZ(3,"div",14),t.YNc(4,mt,3,5,"img",15),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.Q6J("ngIf",e.techPassportFrontFilePath)}}function ht(i,u){if(1&i&&(t._UZ(0,"img",16),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,t.lcZ(2,3,e.techPassportBackFilePath)),t.LSH)}}function gt(i,u){if(1&i&&(t.TgZ(0,"mat-tab",5)(1,"div",6)(2,"div")(3,"p",7),t._uU(4,"\u041c\u0430\u0440\u043a\u0430 \u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(5,"p",8),t._uU(6),t.qZA()(),t.TgZ(7,"div")(8,"p",7),t._uU(9,"\u0413\u043e\u0441. \u043d\u043e\u043c\u0435\u0440"),t.qZA(),t.TgZ(10,"p",8),t._uU(11),t.qZA()(),t.TgZ(12,"div")(13,"p",7),t._uU(14,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.YNc(15,ct,2,1,"p",9),t.qZA(),t.TgZ(16,"div")(17,"p",7),t._uU(18,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 "),t.qZA(),t.YNc(19,dt,2,1,"p",9),t.qZA(),t.TgZ(20,"div")(21,"p",7),t._uU(22,"\u0412\u0438\u0434 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438 "),t.qZA(),t.YNc(23,pt,2,1,"p",9),t.qZA(),t.TgZ(24,"div")(25,"p",7),t._uU(26,"\u041e\u0431\u044a\u0435\u043c "),t.qZA(),t.TgZ(27,"p",8),t._uU(28),t.qZA()(),t.TgZ(29,"div")(30,"p",7),t._uU(31,"\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c "),t.qZA(),t.TgZ(32,"p",8),t._uU(33),t.qZA()(),t.TgZ(34,"div")(35,"p",7),t._uU(36,"\u0410\u0414\u0420 "),t.qZA(),t.TgZ(37,"p",8),t._uU(38),t.qZA()()(),t.TgZ(39,"div",10),t.YNc(40,ft,5,1,"mat-card",11),t.TgZ(41,"mat-card",12)(42,"mat-label",13),t._uU(43,"\u0422\u0435\u0445. \u043f\u0430\u0441\u043f\u043e\u0440\u0442 (\u0441\u0437\u0430\u0434\u0438)"),t.qZA(),t.TgZ(44,"div",14),t.YNc(45,ht,3,5,"img",15),t.qZA()()()()),2&i){const e=u.$implicit;t.Q6J("label",e.name),t.xp6(6),t.Oqu(e.name),t.xp6(5),t.hij("",e.stateNumber," "),t.xp6(4),t.Q6J("ngForOf",e.transportTypes),t.xp6(4),t.Q6J("ngForOf",e.transportKinds),t.xp6(4),t.Q6J("ngForOf",e.cargoLoadMethods),t.xp6(5),t.hij("",e.cubicCapacity?e.cubicCapacity+" (m3)":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"," "),t.xp6(5),t.hij("",e.loadCapacity?e.loadCapacity+" (\u0442.)":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"," "),t.xp6(5),t.hij("",e.isAdr?"\u0414\u0430":"\u041d\u0435\u0442"," "),t.xp6(2),t.Q6J("ngIf",e.techPassportFrontFilePath),t.xp6(5),t.Q6J("ngIf",e.techPassportBackFilePath)}}let _t=(()=>{class i{constructor(e,n,o,r){this.data=e,this.dialogRef=n,this.dialog=o,this.toastr=r}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.WI),t.Y36(c.so),t.Y36(c.uw),t.Y36(N._W))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-transport-detail"]],standalone:!0,features:[t.jDz],decls:8,vars:1,consts:[[1,"flex","justify-between","items-center"],[1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"grid","grid-cols-2","gap-4","mt-5"],[1,"text-lg","mb-1"],[1,"font-bold"],["class","font-bold",4,"ngFor","ngForOf"],[1,"flex","gap-4","mt-5","w-full"],["class","w-auto",4,"ngIf"],[1,"w-auto"],[1,"font-bold","p-2"],[1,"relative","flex","items-center","justify-center","w-32","h-32","overflow-hidden","p-2"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],[1,"object-fill","w-full","h-full",3,"src"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-tab-group"),t.YNc(7,gt,46,11,"mat-tab",4),t.qZA()),2&n&&(t.xp6(7),t.Q6J("ngForOf",o.data.driverTransports))},dependencies:[_.ez,_.sg,_.O5,_.Ov,m.p0,c.Is,c.ZT,I.QW,I.a8,v.c,f.hX,x.LD,a.UX,a.u5,w.D,lt,Z.Cq,y.TU,f.lN,h.Ps,h.Hw,p.ot,p.RK,b.si,T.Tx,A.Nh,A.uX,A.SP,F.vV,U.X],styles:[".mat-mdc-tab-group .mat-mdc-tab-body-content{padding:10px 0!important}\n"],encapsulation:2})}return i})();var B=l(5656),j=l(6403);function vt(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.detailTransport())}),t._uU(1," \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b "),t.qZA()}2&i&&t.Q6J("color","primary")}function Ct(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addTransport())}),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 "),t.qZA()}2&i&&t.Q6J("color","primary")}let L=(()=>{class i{constructor(e,n,o,r,s){this.driver=e,this.dialogRef=n,this.dialog=o,this.toastr=r,this.driversService=s}ngOnInit(){this.currentUser=(0,B.o)(localStorage.getItem("tmc")),this.getDriver()}getDriver(){this.driversService.getDriverById({id:this.driver.id,userId:this.currentUser.userId}).subscribe(n=>{n&&n.success&&(this.data=n.data)})}addTransport(){this.dialogRef.close(),this.dialog.open(R,{height:"100vh",autoFocus:!1,disableClose:!0,data:this.data,position:{top:"0",right:"0"}}).afterClosed().subscribe(n=>{})}detailTransport(){this.dialogRef.close(),this.dialog.open(_t,{height:"100vh",autoFocus:!1,disableClose:!0,data:this.data,position:{top:"0",right:"0"}}).afterClosed().subscribe(n=>{})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.WI),t.Y36(c.so),t.Y36(c.uw),t.Y36(N._W),t.Y36(E))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-driver-detail"]],standalone:!0,features:[t.jDz],decls:67,vars:18,consts:[[1,"flex","justify-between","items-center"],[1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"max-w-md","mx-auto","h-full","mt-3"],[1,"grid","grid-cols-2","gap-4"],[1,"text-lg","mb-1"],[1,"font-bold"],[1,"font-bold",3,"ngClass"],[1,"p-4","mt-4","border","border-[#EFEFEF]","rounded-md"],[1,"font-bold","text-xl","mb-2"],[1,"flex","justify-between","gap-4"],[1,"text-lg","mr-1"],[1,"flex","gap-4"],["class","fuse-mat-button-large dark w-full bg-[#FF7100FF] mt-10","mat-flat-button","",3,"color","click",4,"ngIf"],["class","fuse-mat-button-large  dark w-full mt-10","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","dark","w-full","bg-[#FF7100FF]","mt-10",3,"color","click"],["mat-flat-button","",1,"fuse-mat-button-large","dark","w-full","mt-10",3,"color","click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0412\u043e\u0434\u0438\u0442\u0435\u043b\u0435"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div")(9,"p",6),t._uU(10,"\u0418\u043c\u044f"),t.qZA(),t.TgZ(11,"p",7),t._uU(12),t.qZA()(),t.TgZ(13,"div")(14,"p",6),t._uU(15,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),t.qZA(),t.TgZ(16,"p",7),t._uU(17),t.qZA()(),t.TgZ(18,"div")(19,"p",6),t._uU(20,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),t.qZA(),t.TgZ(21,"p",7),t._uU(22),t.qZA()(),t.TgZ(23,"div")(24,"p",6),t._uU(25,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),t.qZA(),t.TgZ(26,"p",7),t._uU(27,"5.00 "),t.qZA()(),t.TgZ(28,"div")(29,"p",6),t._uU(30,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),t.qZA(),t.TgZ(31,"p",7),t._uU(32),t.ALo(33,"dateFormat"),t.qZA()(),t.TgZ(34,"div")(35,"p",6),t._uU(36,"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"),t.qZA(),t.TgZ(37,"p",7),t._uU(38),t.ALo(39,"dateFormat"),t.qZA()(),t.TgZ(40,"div")(41,"p",6),t._uU(42,"\u0421\u0442\u0430\u0442\u0443\u0441"),t.qZA(),t.TgZ(43,"p",8),t._uU(44),t.qZA()()(),t.TgZ(45,"div",9)(46,"div",10),t._uU(47,"\u0417\u0430\u043a\u0430\u0437\u044b"),t.qZA(),t.TgZ(48,"div",11)(49,"div")(50,"span",12),t._uU(51,"\u0412\u0441\u0435\u0433\u043e:"),t.qZA(),t.TgZ(52,"span",7),t._uU(53),t.qZA()(),t.TgZ(54,"div")(55,"span",12),t._uU(56,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435:"),t.qZA(),t.TgZ(57,"span",7),t._uU(58),t.qZA()(),t.TgZ(59,"div")(60,"span",12),t._uU(61,"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0435:"),t.qZA(),t.TgZ(62,"span",7),t._uU(63),t.qZA()()()(),t.TgZ(64,"div",13),t.YNc(65,vt,2,1,"button",14),t.YNc(66,Ct,4,1,"button",15),t.qZA()()),2&n&&(t.xp6(12),t.Oqu(o.data.firstName),t.xp6(5),t.hij(" ",o.data.lastName," "),t.xp6(5),t.hij(" ",o.data.phoneNumbers[0].phoneNumber," "),t.xp6(10),t.hij("",t.xi3(33,12,o.data.createdAt,!1)," "),t.xp6(6),t.hij("",o.data.subscribedAt?t.xi3(39,15,o.data.subscribedAt,!1):"\u041d\u0435\u0442"," "),t.xp6(5),t.Q6J("ngClass",o.data.isBusy?"text-red-500":"text-green-500"),t.xp6(1),t.hij("",o.data.isBusy?"\u0417\u0430\u043d\u044f\u0442\u044c":"\u0421\u0432\u043e\u0431\u043e\u0434\u0435\u043d"," "),t.xp6(9),t.Oqu(o.data.isBusy?o.data.completedOrdersCount+o.data.canceledOrdersCount+1:o.data.completedOrdersCount+o.data.canceledOrdersCount),t.xp6(5),t.hij("",o.data.completedOrdersCount," "),t.xp6(5),t.Oqu(o.data.canceledOrdersCount),t.xp6(2),t.Q6J("ngIf",o.data.driverTransports&&0!==o.data.driverTransports.length),t.xp6(1),t.Q6J("ngIf",!o.data.deleted))},dependencies:[c.Is,c.ZT,I.QW,v.c,x.LD,a.UX,a.u5,w.D,j.E,Z.Cq,y.TU,f.lN,h.Ps,h.Hw,p.ot,p.lW,p.RK,b.si,T.Tx,A.Nh,F.vV,U.X,_.O5,m.p0,_.mk],encapsulation:2})}return i})();var z=l(3649),$=l(5707),H=l(1848);let Zt=(()=>{class i{constructor(e){this.dialog=e,this.confirmResponse=new t.vpe}ngOnInit(){}confirm(e){this.confirmResponse.emit(e),this.dialog.closeAll()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-confirm"]],outputs:{confirmResponse:"confirmResponse"},standalone:!0,features:[t.jDz],decls:10,vars:0,consts:[[1,"text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-20","h-20","text-red-600","mx-auto"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-bold","text-center","text-xl","my-6"],[1,"flex","justify-center","gap-3"],["id","confirm-delete-btn",1,"w-auto","inline-block","px-4","py-2","bg-red-200","text-red-700","rounded-lg","font-semibold","text-sm",3,"click"],["id","confirm-cancel-btn",1,"w-auto","inline-block","rounded-lg","font-semibold","text-sm",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"path",2),t.qZA()(),t.kcU(),t.TgZ(3,"p",3),t._uU(4,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0435\u043b\u0438 \u0431\u044b \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?"),t.qZA(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return o.confirm(!0)}),t._uU(7," \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c "),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return o.confirm(!1)}),t._uU(9," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),t.qZA()())},dependencies:[h.Ps,A.Nh,w.D,f.lN,v.c,x.LD,a.u5,a.UX,H.te,c.Is,$.y4,p.ot,z.AV],styles:[".confirm-dialog[_ngcontent-%COMP%]{transition:opacity .3s ease,transform .3s ease}.confirm-dialog.show[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.confirm-dialog.hide[_ngcontent-%COMP%]{opacity:0;transform:translateY(50%)}"]})}return i})();var K=l(1274);function Tt(i,u){1&i&&t._UZ(0,"mat-icon",15),2&i&&t.Q6J("svgIcon","heroicons_solid:eye")}function bt(i,u){1&i&&t._UZ(0,"mat-icon",15),2&i&&t.Q6J("svgIcon","heroicons_solid:eye-slash")}const xt=function(){return["uz"]},At=function(){return["uz","kz","tj","kg","ru","af"]};let Dt=(()=>{class i{ngOnInit(){this.form=this.formBuilder.group({firstName:[this.data.firstName,a.kI.required],lastName:[this.data.lastName,a.kI.required],phoneNumber:[this.data.phoneNumbers[0].phoneNumber,a.kI.required],password:[null,a.kI.required]})}constructor(e,n,o,r){this.formBuilder=e,this.data=n,this.dialog=o,this.toastr=r}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(a.qu),t.Y36(c.WI),t.Y36(c.uw),t.Y36(N._W))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-driver-edit"]],standalone:!0,features:[t.jDz],decls:29,vars:10,consts:[[1,"flex","justify-between","items-center"],[1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"max-w-md","mx-auto","mt-3"],[3,"formGroup"],[1,"w-full"],["type","text","formControlName","firstName","matInput",""],["type","text","formControlName","lastName","matInput",""],["name","phoneNumber",3,"formControlName","preferredCountries","onlyCountries"],["phone",""],["matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"icon-size-5",3,"svgIcon"]],template:function(n,o){if(1&n){const r=t.EpF();t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"div",4)(7,"form",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"\u0418\u043c\u044f"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",6)(17,"mat-label"),t._uU(18,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.qZA(),t._UZ(19,"ngx-mat-intl-tel-input",9,10),t.qZA(),t.TgZ(21,"mat-form-field",6)(22,"mat-label"),t._uU(23,"\u041f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(24,"input",11,12),t.TgZ(26,"button",13),t.NdJ("click",function(){t.CHM(r);const d=t.MAs(25);return t.KtG(d.type="password"===d.type?"text":"password")}),t.YNc(27,Tt,1,1,"mat-icon",14),t.YNc(28,bt,1,1,"mat-icon",14),t.qZA()()()()}if(2&n){const r=t.MAs(25);t.xp6(2),t.hij("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c: ID #",o.data.id,""),t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(12),t.Q6J("formControlName","phoneNumber")("preferredCountries",t.DdM(8,xt))("onlyCountries",t.DdM(9,At)),t.xp6(5),t.Q6J("formControlName","password"),t.xp6(3),t.Q6J("ngIf","password"===r.type),t.xp6(1),t.Q6J("ngIf","text"===r.type)}},dependencies:[K.d,c.Is,c.ZT,v.c,v.Nt,f.KE,f.hX,f.R9,x.LD,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.u5,Z.Cq,y.TU,f.lN,h.Ps,h.Hw,p.ot,p.RK,b.si,T.Tx,A.Nh,F.vV,U.X,_.O5,m.p0],encapsulation:2})}return i})();var Q=l(9646),X=l(3900),G=l(262),yt=l(3844),Ft=l(8657),V=l(1709),P=l(8951);let Ut=(()=>{class i{constructor(e,n,o){this.data=e,this.dialog=n,this.dialogRef=o}ngOnInit(){console.log(this.data)}confirm(e){e?(this.dialogRef.close(),this.dialog.open(R,{height:"100vh",autoFocus:!1,disableClose:!0,data:this.data,position:{top:"0",right:"0"}}).afterClosed().subscribe(o=>{})):this.dialog.closeAll()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.WI),t.Y36(c.uw),t.Y36(c.so))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-confirm-add-transport"]],standalone:!0,features:[t.jDz],decls:7,vars:0,consts:[[1,"font-bold","text-center","text-xl","my-6"],[1,"flex","justify-center","gap-3"],["id","confirm-cancel-btn",1,"w-auto","inline-block","rounded-lg","font-semibold","text-sm",3,"click"],["id","confirm-delete-btn",1,"w-auto","inline-block","px-4","py-2","bg-green-600","text-white","rounded-lg","font-semibold","text-sm",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"p",0),t._uU(1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f ?"),t.qZA(),t.TgZ(2,"div",1)(3,"button",2),t.NdJ("click",function(){return o.confirm(!1)}),t._uU(4," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return o.confirm(!0)}),t._uU(6," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),t.qZA()())},dependencies:[h.Ps,A.Nh,w.D,f.lN,v.c,x.LD,a.u5,a.UX,H.te,c.Is,$.y4,p.ot,z.AV]})}return i})();function wt(i,u){1&i&&t._UZ(0,"mat-icon",29),2&i&&t.Q6J("svgIcon","heroicons_solid:eye")}function Nt(i,u){1&i&&t._UZ(0,"mat-icon",29),2&i&&t.Q6J("svgIcon","heroicons_solid:eye-slash")}function qt(i,u){if(1&i&&t._UZ(0,"img",30),2&i){const e=t.oxw();t.Q6J("src",e.passport,t.LSH)}}function Jt(i,u){if(1&i&&t._UZ(0,"img",30),2&i){const e=t.oxw();t.Q6J("src",e.driverLicense,t.LSH)}}function Et(i,u){1&i&&(t.TgZ(0,"span"),t._uU(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),t.qZA())}function It(i,u){1&i&&t._UZ(0,"mat-progress-spinner",31),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let kt=(()=>{class i{constructor(e,n,o,r,s,d,g){this.data=e,this.dialogRef=n,this.driverService=o,this.toastr=r,this.formBuilder=s,this.cdr=d,this.dialog=g,this.formData=new FormData,this.showConfirm=!1}ngOnInit(){this.form=this.formBuilder.group({firstName:[null,a.kI.required],lastName:[null,a.kI.required],phoneNumbers:this.formBuilder.array([this.data.phone],a.kI.required),email:[null,a.kI.required],citizenship:[null,a.kI.required],password:[null,a.kI.required],driverLicense:[null,a.kI.required],passport:[null,a.kI.required]})}submit(){this.form.disable(),null===this.form.value.firstName?(this.form.enable(),this.toastr.error("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0418\u043c\u044f")):null===this.form.value.lastName?(this.form.enable(),this.toastr.error("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0424\u0430\u043c\u0438\u043b\u0438\u044f")):null===this.form.value.phoneNumbers?(this.form.enable(),this.toastr.error("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")):null===this.form.value.password?(this.form.enable(),this.toastr.error("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")):null===this.form.value.driverLicense?(this.form.enable(),this.toastr.error("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043f\u0440\u0430\u0432\u0430")):null===this.form.value.passport?(this.form.enable(),this.toastr.error("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u041f\u0430\u0441\u043f\u043e\u0440\u0442")):(this.formData.append("firstName",this.form.value.firstName),this.formData.append("lastName",this.form.value.lastName),this.formData.append("phoneNumbers",JSON.stringify(this.form.value.phoneNumbers)),this.formData.append("password",this.form.value.password),this.driverService.createDriver(this.formData).subscribe(e=>{e&&e.success&&(this.dialog.closeAll(),this.addTransport(e.data),this.form.enable(),this.toastr.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044c"),this.formData=new FormData)},e=>{"duplicateError"==e.error.message?(this.formData=new FormData,this.form.enable(),this.toastr.error("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435")):(this.formData=new FormData,this.form.enable(),this.toastr.error(e.error.message))}))}selectFile(e,n){const o=e.target.files[0];if(o){this.formData.append(n,o,(new Date).getTime().toString()+".jpg");const r=new FileReader;r.onload=()=>{this[n]=r.result,this.cdr.detectChanges()},r.readAsDataURL(o)}}addTransport(e){this.dialogRef.close(),this.dialog.open(Ut,{autoFocus:!1,disableClose:!0,data:e}).afterClosed().subscribe(o=>{})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.WI),t.Y36(c.so),t.Y36(E),t.Y36(N._W),t.Y36(a.qu),t.Y36(t.sBO),t.Y36(c.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-driver"]],standalone:!0,features:[t.jDz],decls:54,vars:20,consts:[[1,"flex","justify-between","items-center"],[1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"mt-8","w-full","overflow-y-scroll",3,"formGroup"],[1,"grid","sm:grid-cols-1","md:grid-cols-2","gap-4","overflow-y-scroll"],[1,"flex-auto","gt-xs:pr-3","md:w-72","sm:w-full"],["matInput","",3,"formControlName"],[1,"w-full"],["matInput","",3,"formControlName","readonly"],["matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"flex","items-end","gap-4"],[1,"w-32"],[1,"font-bold"],[1,"relative","flex","items-center","justify-center","w-32","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["formControlName","passport","id","avatar-file-input1","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input1","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],["formControlName","driverLicense","id","avatar-file-input2","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input2","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["mat-flat-button","",1,"fuse-mat-button-large","dark","w-full","mt-10",3,"color","disabled","click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"icon-size-5",3,"svgIcon"],[1,"object-fill","w-full","h-full",3,"src"],[3,"diameter","mode"]],template:function(n,o){if(1&n){const r=t.EpF();t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u0430"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"form",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"\u0418\u043c\u044f"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),t.qZA(),t._UZ(15,"input",7),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"\u041f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(23,"input",10,11),t.TgZ(25,"button",12),t.NdJ("click",function(){t.CHM(r);const d=t.MAs(24);return t.KtG(d.type="password"===d.type?"text":"password")}),t.YNc(26,wt,1,1,"mat-icon",13),t.YNc(27,Nt,1,1,"mat-icon",13),t.qZA()()(),t.TgZ(28,"div",14)(29,"div",15)(30,"mat-label",16),t._uU(31,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"),t.qZA(),t.TgZ(32,"div",17),t._UZ(33,"div",18),t.TgZ(34,"div",19)(35,"div")(36,"input",20),t.NdJ("change",function(d){return o.selectFile(d,"passport")}),t.qZA(),t.TgZ(37,"label",21),t._UZ(38,"mat-icon",22),t.qZA()()(),t.YNc(39,qt,1,1,"img",23),t.qZA()(),t.TgZ(40,"div",15)(41,"mat-label",16),t._uU(42,"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043f\u0440\u0430\u0432\u0430"),t.qZA(),t.TgZ(43,"div",17),t._UZ(44,"div",18),t.TgZ(45,"div",19)(46,"div")(47,"input",24),t.NdJ("change",function(d){return o.selectFile(d,"driverLicense")}),t.qZA(),t.TgZ(48,"label",25),t._UZ(49,"mat-icon",22),t.qZA()()(),t.YNc(50,Jt,1,1,"img",23),t.qZA()()(),t.TgZ(51,"button",26),t.NdJ("click",function(){return o.submit()}),t.YNc(52,Et,2,0,"span",27),t.YNc(53,It,1,2,"mat-progress-spinner",28),t.qZA()()}if(2&n){const r=t.MAs(24);t.xp6(6),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("formControlName","firstName"),t.xp6(4),t.Q6J("formControlName","lastName"),t.xp6(4),t.Q6J("formControlName","phoneNumbers")("readonly",o.form.value.phoneNumbers),t.xp6(4),t.Q6J("formControlName","password"),t.xp6(3),t.Q6J("ngIf","password"===r.type),t.xp6(1),t.Q6J("ngIf","text"===r.type),t.xp6(9),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.passport),t.xp6(8),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.driverLicense),t.xp6(1),t.Q6J("color","primary")("disabled",o.form.disabled),t.xp6(1),t.Q6J("ngIf",!o.form.disabled),t.xp6(1),t.Q6J("ngIf",o.form.disabled)}},dependencies:[c.Is,c.ZT,v.c,v.Nt,f.KE,f.hX,f.R9,x.LD,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.u5,Z.Cq,Z.Ou,y.TU,f.lN,h.Ps,h.Hw,p.ot,p.lW,p.RK,b.si,b.wG,T.Tx,A.Nh,F.vV,U.X,_.O5,m.p0],styles:[".country-selector{opacity:1!important}ngx-mat-intl-tel-input div button{margin:4px 0}.form-container{height:400px;overflow-y:auto}.mat-mdc-dialog-container .mdc-dialog__surface{max-width:none!important}\n"],encapsulation:2})}return i})();function Qt(i,u){1&i&&(t.TgZ(0,"span"),t._uU(1,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),t.qZA())}function Pt(i,u){1&i&&t._UZ(0,"mat-progress-spinner",14),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let Yt=(()=>{class i{constructor(e,n,o,r,s){this.data=e,this.cdr=n,this.dialogRef=o,this.router=r,this.dialog=s,this.authService=(0,t.f3M)(P.e),this.toastr=(0,t.f3M)(N._W),this.loading=!1,this.countdown=119,this.isCodeExpired=!1,this.codeEntered=!1}ngOnInit(){this.smsCode=this.data.code,this.startCountdown()}sendVerifyedCode(){this.loading=!0,this.isCodeExpired?(this.loading=!1,this.toastr.error("\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f SMS-\u043a\u043e\u0434\u0430 \u0438\u0441\u0442\u0435\u043a. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439."),this.dialogRef.close()):this.smsCode!==this.verifyCode?(this.loading=!1,this.toastr.error("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442")):this.smsCode==this.verifyCode&&this.authService.accessToken&&(this.dialog.open(kt,{autoFocus:!1,disableClose:!0,data:this.data}),this.dialogRef.close())}retrySms(){this.loading=!0,this.authService.verifyPhone({phone:this.data.phone,countryCode:this.data.countryCode}).subscribe(e=>{e.success&&(this.smsCode=e.data.code,this.loading=!1,this.isCodeExpired=!1,this.countdown=119,this.startCountdown())})}startCountdown(){this.intervalId=setInterval(()=>{this.countdown>=0?(this.formatTime(this.countdown),this.countdown--):(this.stopCountdown(),this.isCodeExpired=!0)},1e3)}stopCountdown(){clearInterval(this.intervalId)}formatTime(e){const n=Math.floor(e/60),o=e%60;this.count=`${"0"+n}:${o<10?"0":""}${o}`,this.cdr.detectChanges()}closeModal(){this.dialogRef.close()}onCodeChanged(e){this.codeEntered=6==e.length,this.verifyCode=e}onCodeCompleted(e){this.sendVerifyedCode()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.WI),t.Y36(t.sBO),t.Y36(c.so),t.Y36(Y.F0),t.Y36(c.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["driver-verification-code"]],standalone:!0,features:[t.jDz],decls:21,vars:9,consts:[[1,"flex","justify-between","items-center"],[1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"mat-typography","m-auto"],[1,"flex","justify-center"],[1,"text-black","flex","justify-center","mb-4"],[3,"disabled","isCodeHidden","codeLength","codeChanged","codeCompleted"],["align","center"],["mat-flat-button","",1,"fuse-mat-button-large","dark","w-full","mt-6",3,"disabled","color","click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"inline-flex","items-center","justify-between","w-full","mt-4"],["disabled","loading",1,"text-md","font-medium","m-auto","cursor-pointer",3,"click"],[3,"diameter","mode"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"\u041f\u041e\u0414\u0422\u0412\u0415\u0420\u0416\u0414\u0415\u041d\u0418\u0415"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content",4)(7,"div",5),t._uU(8,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 6 \u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u043a\u043e\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430 \u043d\u043e\u043c\u0435\u0440 "),t.qZA(),t.TgZ(9,"b",6),t._uU(10),t.qZA(),t.TgZ(11,"code-input",7),t.NdJ("codeChanged",function(s){return o.onCodeChanged(s)})("codeCompleted",function(s){return o.onCodeCompleted(s)}),t.qZA()(),t.TgZ(12,"mat-dialog-actions",8)(13,"div"),t._uU(14),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return o.sendVerifyedCode()}),t.YNc(16,Qt,2,0,"span",10),t.YNc(17,Pt,1,2,"mat-progress-spinner",11),t.qZA(),t.TgZ(18,"div",12)(19,"a",13),t.NdJ("click",function(){return o.retrySms()}),t._uU(20,"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"),t.qZA()()()),2&n&&(t.xp6(10),t.hij(" ",null==o.data?null:o.data.phone,""),t.xp6(1),t.Q6J("disabled",o.loading)("isCodeHidden",!1)("codeLength",6),t.xp6(3),t.Oqu(o.count?o.count:"01:59"),t.xp6(1),t.Q6J("disabled",o.loading||!o.codeEntered)("color","primary"),t.xp6(1),t.Q6J("ngIf",!o.loading),t.xp6(1),t.Q6J("ngIf",o.loading))},dependencies:[V.oY,V.Oz,_.O5,Z.Cq,Z.Ou,p.ot,p.lW,p.RK,h.Ps,h.Hw,a.UX,a.u5,Ft.Ky,k.p9,b.si,T.Tx,c.Is,c.ZT,c.xY,c.H8],styles:[".mat-mdc-dialog-container .mdc-dialog__surface{max-width:500px!important}\n"],encapsulation:2,changeDetection:0})}return i})();const Mt=["verifyPhoneNgForm"],Bt=["phone"];function jt(i,u){1&i&&(t.TgZ(0,"span"),t._uU(1,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),t.qZA())}function Ot(i,u){1&i&&t._UZ(0,"mat-progress-spinner",17),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}const St=function(){return["uz"]},Rt=function(){return["uz","kz","tj","kg","ru","af"]};let Lt=(()=>{class i{constructor(e,n){this.formBuilder=e,this.dialog=n,this.toastr=(0,t.f3M)(N._W),this.authService=(0,t.f3M)(P.e),this.phoneCountry=""}ngOnInit(){this.verifyPhoneForm=this.formBuilder.group({phone:["",[a.kI.required]],countryCode:["uz",[a.kI.required]]})}verifyPhone(){"INVALID"!=this.verifyPhoneForm.status||this.verifyPhoneForm.value.phone?(this.verifyPhoneForm.patchValue({countryCode:this.phone.selectedCountry.iso2}),this.verifyPhoneForm.disable(),this.authService.verifyPhone(this.verifyPhoneForm.value).subscribe(e=>{this.showVerifyCode(e.data),this.verifyPhoneForm.enable()})):this.toastr.error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")}showVerifyCode(e){this.dialog.open(Yt,{autoFocus:!1,disableClose:!0,data:{countryCode:this.phone.selectedCountry.iso2,phone:this.verifyPhoneForm.value.phone,code:e.code}}).afterClosed().subscribe(o=>{this.verifyPhoneForm.enable()})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(a.qu),t.Y36(c.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["driver-verify-phone"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Mt,5),t.Gf(Bt,5)),2&n){let r;t.iGM(r=t.CRH())&&(o.verifyPhoneNgForm=r.first),t.iGM(r=t.CRH())&&(o.phone=r.first)}},standalone:!0,features:[t.jDz],decls:20,vars:9,consts:[[1,"flex","justify-between","items-center"],[1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"flex","justify-center","items-center","h-full","w-full"],[1,"login-contianer"],[1,"login-card"],[1,"mt-8",3,"formGroup","ngSubmit"],["verifyPhoneNgForm","ngForm"],[1,"form-width"],[1,"flex-auto","gt-xs:pr-3","md:w-72","sm:w-full","dark:bg-gray-800"],[1,"dark:text-white"],["formControlName","phone","name","phone",1,"dark:text-white",3,"preferredCountries","onlyCountries"],["phone",""],["mat-flat-button","",1,"fuse-mat-button-large","dark","w-full","mt-6",3,"color","disabled"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u0430"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"form",7,8),t.NdJ("ngSubmit",function(){return o.verifyPhone()}),t.TgZ(11,"div",9)(12,"mat-form-field",10)(13,"mat-label",11),t._uU(14,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.qZA(),t._UZ(15,"ngx-mat-intl-tel-input",12,13),t.qZA()(),t.TgZ(17,"button",14),t.YNc(18,jt,2,0,"span",15),t.YNc(19,Ot,1,2,"mat-progress-spinner",16),t.qZA()()()()()),2&n&&(t.xp6(9),t.Q6J("formGroup",o.verifyPhoneForm),t.xp6(6),t.Q6J("preferredCountries",t.DdM(7,St))("onlyCountries",t.DdM(8,Rt)),t.xp6(2),t.Q6J("color","primary")("disabled",o.verifyPhoneForm.disabled),t.xp6(1),t.Q6J("ngIf",!o.verifyPhoneForm.disabled),t.xp6(1),t.Q6J("ngIf",o.verifyPhoneForm.disabled))},dependencies:[_.O5,a.u5,a._Y,a.JJ,a.JL,c.Is,c.ZT,a.UX,a.sg,a.u,f.lN,f.KE,f.hX,v.c,p.ot,p.lW,p.RK,h.Ps,h.Hw,k.p9,Z.Cq,Z.Ou,K.d],styles:[".country-selector{opacity:1!important}ngx-mat-intl-tel-input div button{margin:4px 0!important}\n"],encapsulation:2,data:{animation:yt.L}})}return i})();function zt(i,u){1&i&&t._UZ(0,"mat-spinner")}function $t(i,u){if(1&i&&(t.TgZ(0,"div",35),t.YNc(1,zt,1,0,"mat-spinner",36),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoading)}}function Ht(i,u){1&i&&(t.TgZ(0,"th",37),t._uU(1," No "),t.qZA())}function Kt(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.index;t.xp6(1),t.hij(" ",e+1," ")}}function Xt(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("id"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"ID"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("id"))}}function Gt(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function Vt(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("full_name"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"\u0424\u0418\u041e"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("full_name"))}}function Wt(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.AsE("",e.lastName," ",e.firstName,"")}}function te(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("transport_kind"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("transport_kind"))}}const ee=function(){return[]};function ie(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.driverTransports==t.DdM(1,ee)?e.driverTransports:"\u041d\u0435\u0442 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"," ")}}function oe(i,u){1&i&&(t.TgZ(0,"th",37),t._uU(1," \u0421\u0442\u0430\u0442\u0443\u0441 "),t.qZA())}function ne(i,u){if(1&i&&(t.TgZ(0,"td",38)(1,"div",41),t._uU(2),t.qZA()()),2&i){const e=u.$implicit;t.xp6(1),t.Q6J("ngClass",e.isBusy?"bg-red-500":"bg-green-500"),t.xp6(1),t.hij(" ",e.isBusy?"\u0417\u0430\u043d\u044f\u0442\u044c":"\u0421\u0432\u043e\u0431\u043e\u0434\u0435\u043d"," ")}}function ue(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("subscribe"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("subscribe"))}}function re(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.subscribedAt?t.xi3(2,1,e.subscribedAt,!1):"\u041d\u0435\u0442"," ")}}function ae(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("offers"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"\u0420\u0430\u0437\u0440. \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("offers"))}}function se(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.offers?"\u0414\u0430":"\u041d\u0435\u0442"," ")}}function le(i,u){1&i&&(t.TgZ(0,"th",37),t._uU(1," \u0413\u0435\u043e\u043f\u043e\u0437\u0438\u0446\u0438\u044f "),t.qZA())}function ce(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.location?"\u0415\u0441\u0442\u044c \u0440\u0430\u0437\u0440.":"\u041d\u0435\u0442 \u0440\u0430\u0437\u0440."," ")}}function de(i,u){1&i&&t._UZ(0,"th",37)}function pe(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"div",42)(2,"button",43),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,44)(7,"button",45),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.showDetails(r))}),t._uU(8," \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 "),t.qZA(),t.TgZ(9,"button",45),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.showEdit(r))}),t._uU(10," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "),t.qZA()()()()}if(2&i){const e=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",e)}}function me(i,u){1&i&&t._UZ(0,"tr",46)}const fe=function(i,u){return{"odd:bg-[#EFEFEF] dark:odd:bg-[#1E293BDB]":i,"even:bg-white dark:even:bg-[#1E293BDB]":u}};function he(i,u){if(1&i&&t._UZ(0,"tr",47),2&i){const e=u.$implicit;t.Q6J("ngClass",t.WLB(1,fe,e,e))}}function ge(i,u){1&i&&(t.TgZ(0,"div",48),t._uU(1," \u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 "),t.qZA())}function _e(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"app-pagination",49),t.NdJ("paginationEvent",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onPaginationEvent(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("totalPagesCount",e.totalPagesCount)("size",e.size)("currentPage",e.currentPage)}}function Ce(i,u){1&i&&t._UZ(0,"mat-spinner")}function Ze(i,u){if(1&i&&(t.TgZ(0,"div",35),t.YNc(1,Ce,1,0,"mat-spinner",36),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoading)}}function Te(i,u){1&i&&(t.TgZ(0,"th",37),t._uU(1," No "),t.qZA())}function be(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.index;t.xp6(1),t.hij(" ",e+1," ")}}function xe(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("id"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"ID"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("id"))}}function Ae(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function De(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("full_name"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"\u0424\u0418\u041e"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("full_name"))}}function ye(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.AsE("",e.lastName," ",e.firstName,"")}}function Fe(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("transport_kind"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("transport_kind"))}}const Ue=function(){return[]};function we(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.driverTransports==t.DdM(1,Ue)?e.driverTransports:"\u041d\u0435\u0442 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"," ")}}function Ne(i,u){1&i&&(t.TgZ(0,"th",37),t._uU(1," \u0421\u0442\u0430\u0442\u0443\u0441 "),t.qZA())}function qe(i,u){if(1&i&&(t.TgZ(0,"td",38)(1,"div",41),t._uU(2),t.qZA()()),2&i){const e=u.$implicit;t.xp6(1),t.Q6J("ngClass",e.isBusy?"bg-red-500":"bg-green-500"),t.xp6(1),t.hij(" ",e.isBusy?"\u0417\u0430\u043d\u044f\u0442\u044c":"\u0421\u0432\u043e\u0431\u043e\u0434\u0435\u043d"," ")}}function Je(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("subscribe"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("subscribe"))}}function Ee(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.subscribedAt?t.xi3(2,1,e.subscribedAt,!1):"\u041d\u0435\u0442"," ")}}function Ie(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"th",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData("offers"))}),t.TgZ(1,"div",40)(2,"div"),t._uU(3,"\u0420\u0430\u0437\u0440. \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.getSortIcon("offers"))}}function ke(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.offers?"\u0414\u0430":"\u041d\u0435\u0442"," ")}}function Qe(i,u){1&i&&(t.TgZ(0,"th",37),t._uU(1," \u0413\u0435\u043e\u043f\u043e\u0437\u0438\u0446\u0438\u044f "),t.qZA())}function Pe(i,u){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.xp6(1),t.hij(" ",e.location?"\u0415\u0441\u0442\u044c \u0440\u0430\u0437\u0440.":"\u041d\u0435\u0442 \u0440\u0430\u0437\u0440.","")}}function Ye(i,u){1&i&&t._UZ(0,"th",37)}function Me(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"div",42)(2,"button",43),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,44)(7,"button",45),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.showDetails(r))}),t._uU(8," \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 "),t.qZA()()()()}if(2&i){const e=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",e)}}function Be(i,u){1&i&&t._UZ(0,"tr",46)}const je=function(i,u){return{"odd:bg-[#EFEFEF] dark:odd:bg-[#1E293BDB]":i,"even:bg-white dark:even:bg-[#1E293BDB]":u}};function Oe(i,u){if(1&i&&t._UZ(0,"tr",47),2&i){const e=u.$implicit;t.Q6J("ngClass",t.WLB(1,je,e,e))}}function Se(i,u){1&i&&(t.TgZ(0,"div",48),t._uU(1," \u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 "),t.qZA())}function Re(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"app-pagination",49),t.NdJ("paginationEvent",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onPaginationEvent(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("totalPagesCount",e.totalPagesCount)("size",e.size)("currentPage",e.currentPage)}}const Le=[{path:"",component:W,resolve:{},children:[{path:"active",component:(()=>{class i{constructor(e,n,o){this.dialog=e,this.driverService=n,this.authService=o,this.showFilter=!1,this.filter={driverId:null,name:null,phoneNumber:null,transportKind:null,subscribe:null,status:null},this.totalPagesCount=1,this.size=5,this.currentPage=1,this.isLoading=!1,this.displayedColumns=["index","id","full_name","transport_kind","status","subscribe","offers","location","action"],this.sortOptions={id:{column:"id",direction:null},full_name:{column:"full_name",direction:null},transport_kind:{column:"transport_kind",direction:null},status:{column:"status",direction:null},subscribe:{column:"subscribe",direction:null},offers:{column:"offers",direction:null}}}ngOnInit(){this.currentUser=(0,B.o)(this.authService.accessToken),this.getData()}getData(e,n,o){const r={size:this.size,currentPage:this.currentPage};this.isLoading=!0,(0,Q.of)({filter:e,sortBy:n,sortType:o}).pipe((0,X.w)(({filter:d,sortBy:g,sortType:D})=>this.driverService.getActiveDrivers(this.currentUser.merchantId,r,d,g,D).pipe((0,M.U)(q=>({success:q.success,data:q.data.content,totalPagesCount:q.data.totalPagesCount})),(0,G.K)(()=>(0,Q.of)({success:!1,data:[],totalPagesCount:0}))))).subscribe({next:({success:d,data:g,totalPagesCount:D})=>{setTimeout(()=>{this.isLoading=!1},500),d?g.length>0?(this.dataSource=g,this.totalPagesCount=D):g||(this.dataSource=[]):this.dataSource=[]},error:()=>{this.isLoading=!1,this.dataSource=[]}})}create(){this.dialog.open(Lt,{autoFocus:!1,disableClose:!0}).afterClosed().subscribe(n=>{this.getData()})}showDetails(e){this.dialog.open(L,{height:"100vh",autoFocus:!1,disableClose:!0,data:e,position:{top:"0",right:"0"}})}showEdit(e){this.dialog.open(Dt,{height:"100vh",autoFocus:!1,disableClose:!0,data:e,position:{top:"0",right:"0"}}).afterClosed().subscribe(o=>{})}confirmModal(){this.dialog.open(Zt,{autoFocus:!1,disableClose:!0}).componentInstance.confirmResponse.subscribe(n=>{})}onPaginationEvent(e){this.size=e.size,this.currentPage=e.page,this.getData()}generateFilterPath(e){let n="";for(const o in e)null!=e[o]&&(n+=`&${o}=${encodeURIComponent(e[o])}`);return this.getData(),n.length>0?n.substr(1):n}applyFilter(){this.filter&&(this.filterPath=this.generateFilterPath(this.filter),this.getData(this.filterPath,this.sortColumn,this.sortDirection))}resetSearch(){this.filter&&(this.filter={driverId:null,name:null,phoneNumber:null,transportKind:null,subscribe:null,status:null},this.getData())}sortData(e){const n=this.sortOptions[e];n.direction=null===n.direction?"asc":"asc"===n.direction?"desc":null,this.sortColumn=e,this.sortDirection=n.direction,this.getData(this.filterPath,this.sortColumn,this.sortDirection)}getSortIcon(e){const n=this.sortOptions[e];return n.column===this.sortColumn&&"asc"===n.direction?"arrow_upward":n.column===this.sortColumn&&"desc"===n.direction?"arrow_downward":"unfold_more"}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.uw),t.Y36(E),t.Y36(P.e))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-active-drivers"]],standalone:!0,features:[t.jDz],decls:74,vars:15,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent","p-4"],[1,"flex","justify-between","items-center","my-5"],[1,"text-3xl","font-bold"],[1,"flex","justify-end","gap-2"],["mat-flat-button","",1,"fuse-mat-button-large","dark","dark:bg-[#1E293BDB]",3,"color","click"],[1,"filter","flex","items-center","gap-2"],[1,"h-[19px]"],[1,"flex-auto"],["type","number","matInput","","placeholder","ID \u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u0430 ",3,"ngModel","ngModelChange"],["type","text","matInput","","placeholder","\u0424\u0418\u041e",3,"ngModel","ngModelChange"],["type","number","matInput","","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",3,"ngModel","ngModelChange"],["placeholder","\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430",3,"ngModel","ngModelChange"],["value","true"],["value","false"],[1,"mat-elevation-z8","my-6","relative","overflow-auto"],["class","loading-shade",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","index"],["class","font-extrabold","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","class","font-extrabold cursor-pointer",3,"click",4,"matHeaderCellDef"],["matColumnDef","full_name"],["matColumnDef","transport_kind"],["matColumnDef","status"],["mat-header-cell","","class","font-extrabold",4,"matHeaderCellDef"],["matColumnDef","subscribe"],["matColumnDef","offers"],["matColumnDef","location"],["matColumnDef","action"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","flex justify-center p-5 font-bold text-lg text-slate-600 ",4,"ngIf"],[3,"totalPagesCount","size","currentPage","paginationEvent",4,"ngIf"],[1,"loading-shade"],[4,"ngIf"],["mat-header-cell","",1,"font-extrabold"],["mat-cell",""],["mat-header-cell","",1,"font-extrabold","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"status-badge","relative",3,"ngClass"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"],["mat-header-row",""],["mat-row","",1,"cursor-pointer",3,"ngClass"],[1,"flex","justify-center","p-5","font-bold","text-lg","text-slate-600"],[3,"totalPagesCount","size","currentPage","paginationEvent"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u0438"),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return o.showFilter=!o.showFilter}),t.TgZ(6,"mat-icon"),t._uU(7,"search"),t.qZA(),t._uU(8," \u041f\u043e\u0438\u0441\u043a "),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return o.create()}),t.TgZ(10,"mat-icon"),t._uU(11,"add"),t.qZA(),t._uU(12," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),t.qZA()()(),t.TgZ(13,"div",5)(14,"div"),t._UZ(15,"div",6),t.TgZ(16,"mat-form-field",7)(17,"input",8),t.NdJ("ngModelChange",function(s){return o.filter.driverId=s}),t.qZA()()(),t.TgZ(18,"div"),t._UZ(19,"div",6),t.TgZ(20,"mat-form-field",7)(21,"input",9),t.NdJ("ngModelChange",function(s){return o.filter.name=s}),t.qZA()()(),t.TgZ(22,"div"),t._UZ(23,"div",6),t.TgZ(24,"mat-form-field",7)(25,"input",10),t.NdJ("ngModelChange",function(s){return o.filter.phoneNumber=s}),t.qZA()()(),t.TgZ(26,"div"),t._UZ(27,"div",6),t.TgZ(28,"mat-form-field",7)(29,"mat-select",11),t.NdJ("ngModelChange",function(s){return o.filter.subscribe=s}),t.TgZ(30,"mat-option",12),t._uU(31,"\u0414\u0430"),t.qZA(),t.TgZ(32,"mat-option",13),t._uU(33,"\u041d\u0435\u0442"),t.qZA()()()(),t.TgZ(34,"button",4),t.NdJ("click",function(){return o.resetSearch()}),t.TgZ(35,"mat-icon"),t._uU(36,"refresh"),t.qZA()(),t.TgZ(37,"button",4),t.NdJ("click",function(){return o.applyFilter()}),t.TgZ(38,"mat-icon"),t._uU(39,"search"),t.qZA()()(),t.TgZ(40,"div",14),t.YNc(41,$t,2,1,"div",15),t.TgZ(42,"table",16),t.ynx(43,17),t.YNc(44,Ht,2,0,"th",18),t.YNc(45,Kt,2,1,"td",19),t.BQk(),t.ynx(46,20),t.YNc(47,Xt,6,1,"th",21),t.YNc(48,Gt,2,1,"td",19),t.BQk(),t.ynx(49,22),t.YNc(50,Vt,6,1,"th",21),t.YNc(51,Wt,2,2,"td",19),t.BQk(),t.ynx(52,23),t.YNc(53,te,6,1,"th",21),t.YNc(54,ie,2,2,"td",19),t.BQk(),t.ynx(55,24),t.YNc(56,oe,2,0,"th",25),t.YNc(57,ne,3,2,"td",19),t.BQk(),t.ynx(58,26),t.YNc(59,ue,6,1,"th",21),t.YNc(60,re,3,4,"td",19),t.BQk(),t.ynx(61,27),t.YNc(62,ae,6,1,"th",21),t.YNc(63,se,2,1,"td",19),t.BQk(),t.ynx(64,28),t.YNc(65,le,2,0,"th",25),t.YNc(66,ce,2,1,"td",19),t.BQk(),t.ynx(67,29),t.YNc(68,de,1,0,"th",25),t.YNc(69,pe,11,1,"td",30),t.BQk(),t.YNc(70,me,1,0,"tr",31),t.YNc(71,he,1,4,"tr",32),t.qZA(),t.YNc(72,ge,2,0,"div",33),t.YNc(73,_e,1,3,"app-pagination",34),t.qZA()()),2&n&&(t.xp6(5),t.Q6J("color","primary"),t.xp6(4),t.Q6J("color","primary"),t.xp6(4),t.Q6J("@showHideFilter",o.showFilter?"show":"hide"),t.xp6(4),t.Q6J("ngModel",o.filter.driverId),t.xp6(4),t.Q6J("ngModel",o.filter.name),t.xp6(4),t.Q6J("ngModel",o.filter.phoneNumber),t.xp6(4),t.Q6J("ngModel",o.filter.subscribe),t.xp6(5),t.Q6J("color","primary"),t.xp6(3),t.Q6J("color","primary"),t.xp6(4),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",0==(null==o.dataSource?null:o.dataSource.length)),t.xp6(1),t.Q6J("ngIf",null==o.dataSource?null:o.dataSource.length))},dependencies:[S.Q,w.D,j.E,v.c,v.Nt,f.KE,x.LD,x.gD,b.ey,a.UX,a.Fj,a.wV,a.JJ,a.u5,a.On,Z.Cq,Z.Ou,y.TU,f.lN,h.Ps,h.Hw,p.ot,p.lW,p.RK,b.si,T.Tx,T.VK,T.OP,T.p6,A.Nh,F.vV,U.X,_.O5,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,_.mk],encapsulation:2,data:{animation:[(0,C.X$)("showHideFilter",[(0,C.SB)("show",(0,C.oB)({height:"*",opacity:1,visibility:"visible"})),(0,C.SB)("hide",(0,C.oB)({height:"0",opacity:0,visibility:"hidden"})),(0,C.eR)("show <=> hide",(0,C.jt)("300ms ease-in-out"))])]}})}return i})()},{path:"archived",component:(()=>{class i{constructor(e,n,o){this.dialog=e,this.driverService=n,this.authService=o,this.showFilter=!1,this.filter={driverId:null,name:null,phoneNumber:null,transportKind:null,subscribe:null,status:null},this.totalPagesCount=1,this.size=5,this.currentPage=1,this.isLoading=!1,this.displayedColumns=["index","id","full_name","transport_kind","status","subscribe","offers","location","action"],this.sortOptions={id:{column:"id",direction:null},full_name:{column:"full_name",direction:null},transport_kind:{column:"transport_kind",direction:null},status:{column:"status",direction:null},subscribe:{column:"subscribe",direction:null},offers:{column:"offers",direction:null}}}ngOnInit(){this.currentUser=(0,B.o)(this.authService.accessToken),this.getData()}getData(e,n,o){const r={size:this.size,currentPage:this.currentPage};this.isLoading=!0,(0,Q.of)({filter:e,sortBy:n,sortType:o}).pipe((0,X.w)(({filter:d,sortBy:g,sortType:D})=>this.driverService.getArchivedDrivers(this.currentUser.merchantId,r,d,g,D).pipe((0,M.U)(q=>({success:q.success,data:q.data.content,totalPagesCount:q.data.totalPagesCount})),(0,G.K)(()=>(0,Q.of)({success:!1,data:[],totalPagesCount:0}))))).subscribe({next:({success:d,data:g,totalPagesCount:D})=>{setTimeout(()=>{this.isLoading=!1},500),d?g.length>0?(this.dataSource=g,this.totalPagesCount=D):g||(this.dataSource=[]):this.dataSource=[]},error:()=>{this.isLoading=!1,this.dataSource=[]}})}showDetails(e){this.dialog.open(L,{height:"100vh",autoFocus:!1,disableClose:!0,data:e,position:{top:"0",right:"0"}}).afterClosed().subscribe(o=>{})}onPaginationEvent(e){this.size=e.size,this.currentPage=e.page,this.getData()}generateFilterPath(e){let n="";for(const o in e)null!=e[o]&&(n+=`&${o}=${encodeURIComponent(e[o])}`);return this.getData(),n.length>0?n.substr(1):n}applyFilter(){this.filter&&(this.filterPath=this.generateFilterPath(this.filter),this.getData(this.filterPath,this.sortColumn,this.sortDirection))}resetSearch(){this.filter&&(this.filter={driverId:null,name:null,phoneNumber:null,transportKind:null,subscribe:null,status:null},this.getData())}sortData(e){const n=this.sortOptions[e];n.direction=null===n.direction?"asc":"asc"===n.direction?"desc":null,this.sortColumn=e,this.sortDirection=n.direction,this.getData(this.filterPath,this.sortColumn,this.sortDirection)}getSortIcon(e){const n=this.sortOptions[e];return n.column===this.sortColumn&&"asc"===n.direction?"arrow_upward":n.column===this.sortColumn&&"desc"===n.direction?"arrow_downward":"unfold_more"}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.uw),t.Y36(E),t.Y36(P.e))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-archived-drivers"]],standalone:!0,features:[t.jDz],decls:70,vars:14,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent","p-4"],[1,"flex","justify-between","items-center","my-5"],[1,"text-3xl","font-bold"],[1,"flex","justify-end","gap-2"],["mat-flat-button","",1,"fuse-mat-button-large","dark","dark:bg-[#1E293BDB]",3,"color","click"],[1,"filter","flex","items-center","gap-2"],[1,"h-[19px]"],[1,"flex-auto"],["type","number","matInput","","placeholder","ID \u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u0430 ",3,"ngModel","ngModelChange"],["type","text","matInput","","placeholder","\u0424\u0418\u041e",3,"ngModel","ngModelChange"],["type","number","matInput","","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",3,"ngModel","ngModelChange"],["placeholder","\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430",3,"ngModel","ngModelChange"],["value","true"],["value","false"],[1,"mat-elevation-z8","my-6","relative"],["class","loading-shade",4,"ngIf"],["mat-table","",1,"overflow-auto",3,"dataSource"],["matColumnDef","index"],["class","font-extrabold","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","class","font-extrabold cursor-pointer",3,"click",4,"matHeaderCellDef"],["matColumnDef","full_name"],["matColumnDef","transport_kind"],["matColumnDef","status"],["mat-header-cell","","class","font-extrabold",4,"matHeaderCellDef"],["matColumnDef","subscribe"],["matColumnDef","offers"],["matColumnDef","location"],["matColumnDef","action"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","flex justify-center p-5 font-bold text-lg text-slate-600 ",4,"ngIf"],[3,"totalPagesCount","size","currentPage","paginationEvent",4,"ngIf"],[1,"loading-shade"],[4,"ngIf"],["mat-header-cell","",1,"font-extrabold"],["mat-cell",""],["mat-header-cell","",1,"font-extrabold","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"status-badge","relative",3,"ngClass"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"],["mat-header-row",""],["mat-row","",1,"cursor-pointer",3,"ngClass"],[1,"flex","justify-center","p-5","font-bold","text-lg","text-slate-600"],[3,"totalPagesCount","size","currentPage","paginationEvent"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"\u0410\u0440\u0445\u0438\u0432\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u0438"),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return o.showFilter=!o.showFilter}),t.TgZ(6,"mat-icon"),t._uU(7,"search"),t.qZA(),t._uU(8," \u041f\u043e\u0438\u0441\u043a "),t.qZA()()(),t.TgZ(9,"div",5)(10,"div"),t._UZ(11,"div",6),t.TgZ(12,"mat-form-field",7)(13,"input",8),t.NdJ("ngModelChange",function(s){return o.filter.driverId=s}),t.qZA()()(),t.TgZ(14,"div"),t._UZ(15,"div",6),t.TgZ(16,"mat-form-field",7)(17,"input",9),t.NdJ("ngModelChange",function(s){return o.filter.name=s}),t.qZA()()(),t.TgZ(18,"div"),t._UZ(19,"div",6),t.TgZ(20,"mat-form-field",7)(21,"input",10),t.NdJ("ngModelChange",function(s){return o.filter.phoneNumber=s}),t.qZA()()(),t.TgZ(22,"div"),t._UZ(23,"div",6),t.TgZ(24,"mat-form-field",7)(25,"mat-select",11),t.NdJ("ngModelChange",function(s){return o.filter.subscribe=s}),t.TgZ(26,"mat-option",12),t._uU(27,"\u0414\u0430"),t.qZA(),t.TgZ(28,"mat-option",13),t._uU(29,"\u041d\u0435\u0442"),t.qZA()()()(),t.TgZ(30,"button",4),t.NdJ("click",function(){return o.resetSearch()}),t.TgZ(31,"mat-icon"),t._uU(32,"refresh"),t.qZA()(),t.TgZ(33,"button",4),t.NdJ("click",function(){return o.applyFilter()}),t.TgZ(34,"mat-icon"),t._uU(35,"search"),t.qZA()()(),t.TgZ(36,"div",14),t.YNc(37,Ze,2,1,"div",15),t.TgZ(38,"table",16),t.ynx(39,17),t.YNc(40,Te,2,0,"th",18),t.YNc(41,be,2,1,"td",19),t.BQk(),t.ynx(42,20),t.YNc(43,xe,6,1,"th",21),t.YNc(44,Ae,2,1,"td",19),t.BQk(),t.ynx(45,22),t.YNc(46,De,6,1,"th",21),t.YNc(47,ye,2,2,"td",19),t.BQk(),t.ynx(48,23),t.YNc(49,Fe,6,1,"th",21),t.YNc(50,we,2,2,"td",19),t.BQk(),t.ynx(51,24),t.YNc(52,Ne,2,0,"th",25),t.YNc(53,qe,3,2,"td",19),t.BQk(),t.ynx(54,26),t.YNc(55,Je,6,1,"th",21),t.YNc(56,Ee,3,4,"td",19),t.BQk(),t.ynx(57,27),t.YNc(58,Ie,6,1,"th",21),t.YNc(59,ke,2,1,"td",19),t.BQk(),t.ynx(60,28),t.YNc(61,Qe,2,0,"th",25),t.YNc(62,Pe,2,1,"td",19),t.BQk(),t.ynx(63,29),t.YNc(64,Ye,1,0,"th",25),t.YNc(65,Me,9,1,"td",30),t.BQk(),t.YNc(66,Be,1,0,"tr",31),t.YNc(67,Oe,1,4,"tr",32),t.qZA(),t.YNc(68,Se,2,0,"div",33),t.YNc(69,Re,1,3,"app-pagination",34),t.qZA()()),2&n&&(t.xp6(5),t.Q6J("color","primary"),t.xp6(4),t.Q6J("@showHideFilter",o.showFilter?"show":"hide"),t.xp6(4),t.Q6J("ngModel",o.filter.driverId),t.xp6(4),t.Q6J("ngModel",o.filter.name),t.xp6(4),t.Q6J("ngModel",o.filter.phoneNumber),t.xp6(4),t.Q6J("ngModel",o.filter.subscribe),t.xp6(5),t.Q6J("color","primary"),t.xp6(3),t.Q6J("color","primary"),t.xp6(4),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",0==(null==o.dataSource?null:o.dataSource.length)),t.xp6(1),t.Q6J("ngIf",null==o.dataSource?null:o.dataSource.length))},dependencies:[S.Q,w.D,j.E,v.c,v.Nt,f.KE,x.LD,x.gD,b.ey,a.UX,a.Fj,a.wV,a.JJ,a.u5,a.On,Z.Cq,Z.Ou,y.TU,f.lN,h.Ps,h.Hw,p.ot,p.lW,p.RK,b.si,T.Tx,T.VK,T.OP,T.p6,A.Nh,F.vV,U.X,_.O5,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,_.mk],encapsulation:2,data:{animation:[(0,C.X$)("showHideFilter",[(0,C.SB)("show",(0,C.oB)({height:"*",opacity:1,visibility:"visible"})),(0,C.SB)("hide",(0,C.oB)({height:"0",opacity:0,visibility:"hidden"})),(0,C.eR)("show <=> hide",(0,C.jt)("300ms ease-in-out"))])]}})}return i})()}]}]}}]);