"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[440],{1440:(K,d,o)=>{o.r(d),o.d(d,{default:()=>G});var v=o(4755),i=o(9401),f=o(1728),x=o(3314),I=o(1217),m=o(9114),p=o(430),y=o(7406),C=o(3627),w=o(3617),Z=o(6205),J=o(5656),g=o(8467),h=o(9609),t=o(2223),T=o(2340),S=o(3144);let N=(()=>{class s{constructor(n){this.http=n}changePassword(n){return this.http.patch(T.O.apiUsers+"/users/driver-merchant-user/password?userId="+n.userId,n)}static#t=this.\u0275fac=function(a){return new(a||s)(t.LFG(S.eN))};static#s=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var U=o(8951),Q=o(3648);function A(s,u){1&s&&t._UZ(0,"mat-icon",16),2&s&&t.Q6J("svgIcon","heroicons_solid:eye")}function P(s,u){1&s&&t._UZ(0,"mat-icon",16),2&s&&t.Q6J("svgIcon","heroicons_solid:eye-slash")}function Y(s,u){1&s&&t._UZ(0,"mat-icon",16),2&s&&t.Q6J("svgIcon","heroicons_solid:eye")}function F(s,u){1&s&&t._UZ(0,"mat-icon",16),2&s&&t.Q6J("svgIcon","heroicons_solid:eye-slash")}function M(s,u){1&s&&t._UZ(0,"mat-icon",16),2&s&&t.Q6J("svgIcon","heroicons_solid:eye")}function b(s,u){1&s&&t._UZ(0,"mat-icon",16),2&s&&t.Q6J("svgIcon","heroicons_solid:eye-slash")}function E(s,u){1&s&&(t.TgZ(0,"span"),t._uU(1,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),t.qZA())}function B(s,u){1&s&&t._UZ(0,"mat-progress-spinner",17),2&s&&t.Q6J("diameter",24)("mode","indeterminate")}const G=[{path:"",component:(()=>{class s{constructor(n,a,l,r){this.settingSevice=n,this.authService=a,this.toastr=l,this.formBuilder=r,this.loading=!1}ngOnInit(){this.currentUser=(0,J.o)(this.authService.accessToken),this.form=this.formBuilder.group({userId:[this.currentUser.userId],password:[null,i.kI.required],newPassword:[null,i.kI.required],confirmPassword:[null,i.kI.required]})}changePassword(){this.loading=!0,this.form.value.newPassword!==this.form.value.confirmPassword?(this.toastr.error("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442"),this.loading=!1):null==this.form.value.password?(this.loading=!1,this.toastr.error("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")):null==this.form.value.newPassword?(this.loading=!1,this.toastr.error("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")):null==this.form.value.confirmPassword?(this.loading=!1,this.toastr.error("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")):this.settingSevice.changePassword(this.form.value).subscribe(n=>{n.success&&(this.loading=!1,this.toastr.success("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"))},n=>{"invalidPassword"==n.error.message?(this.toastr.error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c "),this.loading=!1):(this.toastr.error(n.error.message),this.loading=!1)})}static#t=this.\u0275fac=function(a){return new(a||s)(t.Y36(N),t.Y36(U.e),t.Y36(Q._W),t.Y36(i.qu))};static#s=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-settings"]],standalone:!0,features:[t.jDz],decls:32,vars:11,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent","p-4"],[1,"flex"],[1,"text-3xl","font-bold","tracking-tight"],[1,"flex","flex-col","mt-5",3,"formGroup"],[1,"flex-auto","md:w-72","sm:w-full"],["type","password","formControlName","password","matInput",""],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["type","password","formControlName","newPassword","matInput",""],["newPasswordField",""],["type","password","formControlName","confirmPassword","matInput",""],["confirmPasswordField",""],["mat-flat-button","",1,"fuse-mat-button-large","dark","mt-6","md:w-72","sm:w-full",3,"disabled","color","click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(a,l){if(1&a){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),t.qZA()(),t.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),t._uU(7,"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(8,"input",5,6),t.TgZ(10,"button",7),t.NdJ("click",function(){t.CHM(r);const e=t.MAs(9);return t.KtG(e.type="password"===e.type?"text":"password")}),t.YNc(11,A,1,1,"mat-icon",8),t.YNc(12,P,1,1,"mat-icon",8),t.qZA()(),t.TgZ(13,"mat-form-field",4)(14,"mat-label"),t._uU(15,"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(16,"input",9,10),t.TgZ(18,"button",7),t.NdJ("click",function(){t.CHM(r);const e=t.MAs(17);return t.KtG(e.type="password"===e.type?"text":"password")}),t.YNc(19,Y,1,1,"mat-icon",8),t.YNc(20,F,1,1,"mat-icon",8),t.qZA()(),t.TgZ(21,"mat-form-field",4)(22,"mat-label"),t._uU(23,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(24,"input",11,12),t.TgZ(26,"button",7),t.NdJ("click",function(){t.CHM(r);const e=t.MAs(25);return t.KtG(e.type="password"===e.type?"text":"password")}),t.YNc(27,M,1,1,"mat-icon",8),t.YNc(28,b,1,1,"mat-icon",8),t.qZA()(),t.TgZ(29,"button",13),t.NdJ("click",function(){return l.changePassword()}),t.YNc(30,E,2,0,"span",14),t.YNc(31,B,1,2,"mat-progress-spinner",15),t.qZA()()()}if(2&a){const r=t.MAs(9),c=t.MAs(17),e=t.MAs(25);t.xp6(4),t.Q6J("formGroup",l.form),t.xp6(7),t.Q6J("ngIf","password"===r.type),t.xp6(1),t.Q6J("ngIf","text"===r.type),t.xp6(7),t.Q6J("ngIf","password"===c.type),t.xp6(1),t.Q6J("ngIf","text"===c.type),t.xp6(7),t.Q6J("ngIf","password"===e.type),t.xp6(1),t.Q6J("ngIf","text"===e.type),t.xp6(1),t.Q6J("disabled",l.loading)("color","primary"),t.xp6(1),t.Q6J("ngIf",!l.loading),t.xp6(1),t.Q6J("ngIf",l.loading)}},dependencies:[h.c,h.Nt,m.KE,m.hX,m.R9,i.UX,i.Fj,i.JJ,i.JL,i.sg,i.u,i.u5,g.Cq,g.Ou,m.lN,p.Ps,p.Hw,f.ot,f.lW,f.RK,I.si,y.Tx,w.Nh,x.vV,Z.X,v.O5,C.p0],encapsulation:2})}return s})(),resolve:{}}]}}]);